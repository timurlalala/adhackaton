bot/
├─ .env
├─ config.py
├─ main.py
├─ storage.py
├─ states.py
handlers/
│  │  ├─ start.py
│  │  ├─ create_character.py
│  │  ├─ manage_characters.py
│  │  ├─ edit_character.py
│  │  ├─ chat.py
│  │  └─ character.py
keyboards/
│  │  └─ main_menu.py


	•	.env
Переменные окружения (токен бота), который пока тут
	•	config.py
Читает .env и экспортирует константы (BOT_TOKEN, API_URL и т. п.) для всего приложения.
	•	main.py
Точка входа 
	•	storage.py
Примитивное «хранилище» в памяти
	•	states.py
Описывает FSM-состояния для Aiogram
Папка bot/handlers/

Каждый файл здесь отвечает за отдельный набор команд или сценариев FSM:
	•	start.py
Хендлеры /start и главного меню (🆕 Создать персонажа, 📁 Мои персонажи и т. п.).
Подключает ReplyKeyboard через keyboards/main_menu.py.
	•	create_character.py
Логика поэтапного создания нового персонажа:
	1.	Ввод имени и описания.
	2.	Выбор архетипа, интеллекта, эмоциональности и т. д.
	3.	Сбор всех параметров в instruction и сохранение в storage.user_data.
	•	manage_characters.py
Отображение списка «Моих персонажей»:
	•	Кнопки ✅ Выбрать, ✏️ Редактировать, ❌ Удалить, 🔍 Подробнее.
	•	Хендлеры select_<id>, delete_<id> и details_<id>.
	•	edit_character.py
FSM-сценарий редактирования одного поля персонажа:
	1.	Меню полей при edit_<id>.
	2.	Выбор поля → ввод текста или нажатие варианта.
	3.	После каждого изменения кнопки «🔁 Ещё поле», «✔️ Готово», «❌ Отмена».
	4.	По «Готово»/«Отмена» рендерит обновлённый список из manage_characters.py.
	•	chat.py
Хендлеры переписки с выбранным персонажем:
	•	/characters или кнопка «🌍 Глобальный каталог».
	•	Отправка пользовательского сообщения в send_message → ответ LLM.
	•	reset_history и хранение контекста (или сброс).